<div class="modal-header">
    <h4 class="modal-title">{{'Addition2' | translate}} </h4>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body p-0">

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <!-- <div class="card-header">
              <h5 class="card-title">Addition List</h5>
              <div class="card-tools">
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                  <i class="fas fa-minus"></i>
                  </button>
              </div>
          </div> -->
            <ejs-grid #grid (actionBegin)="actionBegin($event)" gridLines='Both'
                (actionComplete)="actionComplete($event)" [toolbar]='toolbarOptions' [dataSource]='data'
                allowPaging='true' showColumnMenu='true' [allowSorting]='true' allowResizing='true'
                [allowExcelExport]='true' allowFiltering='true' [filterSettings]='filterSettings'
                [pageSettings]='pageSettings' (toolbarClick)='toolbarClick($event)' [editSettings]='editSettings'>
                <e-columns>
                    <e-column field='#' headerText='#' width='70' textAlign='Center' isPrimaryKey='true'>
                        <ng-template #template let-data>
                            {{NO(data.index)}}
                        </ng-template>
                        <ng-template #editTemplate let-data>
                            N/A
                          </ng-template>
                    </e-column>
                    <e-column field='workerID' headerText="{{'Worker ID' | translate}}" width='150' textAlign='Center'>
                    </e-column>
                    <e-column field='chemicalName' headerText="{{'Chemical Name' | translate}}" width='150' textAlign='Center'>
                        <ng-template #editTemplate let-data>
                            <ejs-dropdownlist #chemicalDropdownlist [dataSource]='chemicalData'
                                [value]="data.chemicalName" [fields]='fieldsChemical' [allowFiltering]='true'
                                (change)='onChangeChemical($event)'>
                            </ejs-dropdownlist>
                        </ng-template>
                    </e-column>
                    <e-column field='amount' headerText="{{'Amount' | translate}} (gram)" editType='numericedit' width='150' textAlign='Center'>
                    </e-column>
                    <e-column field='lineName' headerText="{{'Line' | translate}}" width='150' textAlign='Center'>
                        <ng-template #editTemplate let-data>
                            <ejs-multiselect name='lineName' [dataSource]='lineData' [mode]="'CheckBox'" [(ngModel)]="lines" [fields]='fieldsLine' placeholder='Select line'>
                            </ejs-multiselect>
                            <!-- <ejs-dropdownlist #chemicalDropdownlist [dataSource]='lineData' [value]="data.lineName"
                                [fields]='fieldsLine' [allowFiltering]='true' (change)='onChangeLine($event)'>
                            </ejs-dropdownlist> -->
                        </ng-template>
                    </e-column>

                    <e-column field='bpfcEstablishName' headerText="{{'BPFC Name' | translate}}" width='350' textAlign='Center'>
                        <ng-template #editTemplate let-data>
                            <ejs-dropdownlist #chemicalDropdownlist [dataSource]='bpfcData'
                                [value]="data.bpfcEstablishName" [fields]='fieldsBPFC'
                                (filtering)='onFiltering($event)' 
                                [allowFiltering]='true' (change)='onChangeBPFC($event)'>
                            </ejs-dropdownlist>
                        </ng-template>
                    </e-column>
                    <e-column field='remark' headerText="{{'Remark' | translate}}" width='200' textAlign='Center'>
                    </e-column>
                    <e-column field='createdTime' type='date'  headerText="{{'Created Time' | translate}}" format='MM-dd-yyyy HH:mm:ss' width='170' textAlign='Center'>
                        <ng-template #template let-data>
                          {{data.createdTime | date: 'MM-dd-yyyy HH:mm:ss'}}
                        </ng-template>
                        <ng-template #editTemplate let-data>
                            {{data.createdTime | date: 'MM-dd-yyyy HH:mm:ss'}}
                          </ng-template>
                    </e-column>
                </e-columns>
            </ejs-grid>

        </div>
    </div>

</div>
</div>
<div class="modal-footer justify-content-center d-flex">
  <button type="button" class="btn btn-warning" (click)="activeModal.close('Close click')"><i class="fa fa-save"></i>
    {{'Close' | translate}}</button>
</div>