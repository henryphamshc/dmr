(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{bBuA:function(e,t,i){"use strict";i.r(t),i.d(t,"HttpLoaderFactory",function(){return je}),i.d(t,"ReportModule",function(){return Ge});var n=i("xxV/"),a=i("ofXK"),r=i("3Pt+"),s=i("JqCM"),l=i("ZOsW"),o=i("jcQU"),c=i("1kSV"),d=i("uF4Q"),u=i("0jTc"),h=i("SRvG"),g=i("ed8r"),b=i("QYJQ"),p=i("tk/3"),m=i("sYmb"),f=i("mqiu"),S=i("Pk9d"),D=i("cZdB"),C=i("GJ+o"),y=i("4SUy"),w=i("hXFv"),v=i("QUNt"),x=i("z+xu"),I=i("ZwAT"),R=i("0hV+"),B=i("tyNb"),M=i("vpVc"),A=i("mrSG"),E=i("dQqK"),N=i("iStF"),T=i("fXoL"),O=i("0go6"),U=i("h9f+");const k=["grid"];function P(e,t){if(1&e&&T.Kc(0),2&e){const e=t.$implicit,i=T.gc();T.Mc(" ",i.NO(e.index)," ")}}function L(e,t){1&e&&T.Kc(0),2&e&&T.Mc("",t.$implicit.qty," kg")}let F=(()=>{class e extends E.a{constructor(e,t,i){super(),this.makeGlueService=e,this.buildingUserService=t,this.route=i,this.pageSettings={pageCount:20,pageSizes:!0,pageSize:10}}ngOnInit(){this.Permission(this.route),this.filterSettings={type:"Excel"},this.loadData()}Permission(e){const t=e.snapshot.data.functionCode;this.functions=JSON.parse(localStorage.getItem("functions")).filter(e=>e.functionCode===t)||[];for(const i of this.functions){const e=[];for(const n of i.childrens){const t=this.makeAction(n.code);e.push(...t.filter(Boolean))}e.push("Search");const t=e.filter((e,t,i)=>t===i.indexOf(e));this.toolbarOptions=t}}makeAction(e){switch(e){case N.a.EXCEL_EXPORT:return["ExcelExport"];default:return[void 0]}}toolbarClick(e){switch(e.item.id){case"grid_excelexport":this.grid.excelExport()}}getUsers(){return new Promise((e,t)=>{this.buildingUserService.getAllUsers(1,1e3).subscribe(t=>{const i=t.result.map(e=>({ID:e.ID,EmployeeID:e.EmployeeID,Email:e.Email}));this.users=i,e(!0)},e=>{t(!1)})})}username(e){var t;return(null===(t=this.users.find(t=>t.ID===e))||void 0===t?void 0:t.EmployeeID)||"#N/A"}loadData(){return Object(A.a)(this,void 0,void 0,function*(){try{(yield this.getUsers())&&this.deliveredHistory()}catch(e){}})}deliveredHistory(){this.makeGlueService.deliveredHistory().subscribe(e=>{this.data=e.map(e=>({glueName:e.glueName,buildingName:e.buildingName,qty:e.qty,deliveredBy:this.username(e.createdBy),createdDate:new Date(e.createdDate)}))},()=>{console.log("500 (Internal Server Error)")})}NO(e){return(this.grid.pageSettings.currentPage-1)*this.grid.pageSettings.pageSize+Number(e)+1}}return e.\u0275fac=function(t){return new(t||e)(T.Mb(O.a),T.Mb(U.a),T.Mb(B.a))},e.\u0275cmp=T.Gb({type:e,selectors:[["app-delivered-history"]],viewQuery:function(e,t){if(1&e&&T.Qc(k,!0),2&e){let e;T.xc(e=T.dc())&&(t.grid=e.first)}},features:[T.yb([C.g]),T.wb],decls:15,vars:6,consts:[[1,"card"],[1,"card-body"],["gridLines","Both","id","grid","allowFiltering","true","allowPaging","true","allowResizing","true","showColumnMenu","true",3,"dataSource","allowSorting","allowExcelExport","filterSettings","pageSettings","toolbar","toolbarClick"],["grid",""],["field","#","textAlign","Center","headerText","#","width","40"],["template",""],["field","glueName","textAlign","Center","headerText","Glue","width","100"],["field","buildingName","textAlign","Center","headerText","Line","width","130"],["field","qty","textAlign","Center","headerText","Qty","width","100"],["field","deliveredBy","textAlign","Center","headerText","Delivered By","width","150"],["field","createdDate","textAlign","Center","type","dateTime","format","d MMM, yyyy HH:mm","headerText","Delivered Date","width","150"]],template:function(e,t){1&e&&(T.Sb(0,"div",0),T.Sb(1,"div",1),T.Sb(2,"ejs-grid",2,3),T.cc("toolbarClick",function(e){return t.toolbarClick(e)}),T.Sb(4,"e-columns"),T.Sb(5,"e-column",4),T.Ic(6,P,1,1,"ng-template",null,5,T.Jc),T.Rb(),T.Nb(8,"e-column",6),T.Nb(9,"e-column",7),T.Sb(10,"e-column",8),T.Ic(11,L,1,1,"ng-template",null,5,T.Jc),T.Rb(),T.Nb(13,"e-column",9),T.Nb(14,"e-column",10),T.Rb(),T.Rb(),T.Rb(),T.Rb()),2&e&&(T.zb(2),T.mc("dataSource",t.data)("allowSorting",!0)("allowExcelExport",!0)("filterSettings",t.filterSettings)("pageSettings",t.pageSettings)("toolbar",t.toolbarOptions))},directives:[C.j,u.d,v.d,v.b,C.e,C.b,u.c,v.c,v.a,C.d,C.a],styles:[""]}),e})();var $=i("H552"),j=i("XNiG"),J=i("vrRs"),G=i("wsp1"),K=i("j7qE"),z=i("HJFG");const Q=["ingredientinforeportGrid"];function _(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"TIME_LABEL")," ")}function Y(e,t){1&e&&(T.Kc(0),T.hc(1,"date")),2&e&&T.Mc(" ",T.jc(1,1,t.$implicit.createdTime,"dd MMM, yyyy , HH:mm")," ")}function q(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"SUPPLIER")," ")}function H(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"INGREDIENT_LABEL")," ")}function X(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"PRODUCTION_DATE_LABEL")," ")}function W(e,t){1&e&&(T.Kc(0),T.hc(1,"date")),2&e&&T.Mc(" ",T.jc(1,1,t.$implicit.manufacturingDate,"dd MMM, yyyy")," ")}function V(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"BATCH_LABEL")," ")}function Z(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"EXPIRED_DATE_LABEL")," ")}function ee(e,t){1&e&&(T.Kc(0),T.hc(1,"date")),2&e&&T.Mc(" ",T.jc(1,1,t.$implicit.expiredTime,"dd MMM, yyyy")," ")}function te(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"QTY_LABEL")," ")}function ie(e,t){1&e&&T.Kc(0),2&e&&T.Mc(" ",t.$implicit.qty," Kg ")}function ne(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"CONSUMPTION_LABEL")," ")}function ae(e,t){1&e&&T.Kc(0),2&e&&T.Mc(" ",t.$implicit.consumption," Kg ")}let re=(()=>{class e extends E.a{constructor(e,t,i,n,a,r){super(),this.modalService=e,this.ingredientService=t,this.buildingService=i,this.authService=n,this.alertify=a,this.route=r,this.startDate=new Date,this.endDate=new Date,this.role=JSON.parse(localStorage.getItem("level")),this.building=JSON.parse(localStorage.getItem("building")),this.pageSettings={pageCount:20,pageSizes:!0,pageSize:20},this.filterSettings={type:"Excel"},this.fieldsBuildings={text:"name",value:"id"},this.data=[],this.ingredients=[],this.IsAdmin=!1,this.subject=new j.a,this.subscription=[],this.onFilteringBuilding=e=>{let t=new $.h;t=""!==e.text?t.where("name","contains",e.text,!0):t,e.updateData(this.buildings,t)}}ngOnInit(){this.Permission(this.route),this.checkRole()}checkRole(){const e=+localStorage.getItem("buildingID");this.getBuilding(0===e?()=>{this.alertify.message("Please select a building! <br> Vui l\xf2ng ch\u1ecdn 1 t\xf2a nh\xe0!",!0)}:()=>{this.buildingID=e})}getBuilding(e){const t=+JSON.parse(localStorage.getItem("user")).user.id;this.authService.getBuildingUserByUserID(t).subscribe(t=>{this.buildings=t.data,e()})}Permission(e){const t=e.snapshot.data.functionCode;this.functions=JSON.parse(localStorage.getItem("functions")).filter(e=>e.functionCode===t)||[];for(const i of this.functions){const e=[];for(const n of i.childrens){const t=this.makeAction(n.code);e.push(...t.filter(Boolean))}e.push("Search");const t=e.filter((e,t,i)=>t===i.indexOf(e));this.toolbarOptions=t}}makeAction(e){switch(e){case N.a.EXCEL_EXPORT:return["ExcelExport"];default:return[void 0]}}onChangeBuilding(e){this.buildingID=e.itemData.id,this.buildingName=e.itemData.name,localStorage.setItem("buildingID",e.itemData.id),this.searchWithBuilding(this.startDate,this.endDate)}resetSearch(){this.searchText=null}toolbarClick(e){switch(e.item.text){case"ExcelExport":this.ingredientinforeportGrid.excelExport()}}getIngredientInfoReport(){this.ingredientService.getAllIngredientInfo().subscribe(e=>{this.data=e})}getIngredientInfoReportByBuilding(){this.ingredientService.getAllIngredientInfoReportByBuildingName(this.buildingName).subscribe(e=>{this.data=e})}startDateOnchange(e){this.startDate=e.value,this.searchWithBuilding(this.startDate,this.endDate)}endDateOnchange(e){this.endDate=e.value,this.searchWithBuilding(this.startDate,this.endDate)}onClickDefault(){this.startDate=new Date,this.endDate=new Date,this.searchWithBuilding(this.startDate,this.endDate)}searchWithBuilding(e,t){this.ingredientService.searchInventoryByBuildingName(e.toDateString(),t.toDateString(),this.buildingName).subscribe(e=>{this.data=e})}}return e.\u0275fac=function(t){return new(t||e)(T.Mb(c.b),T.Mb(J.a),T.Mb(G.a),T.Mb(K.a),T.Mb(z.a),T.Mb(B.a))},e.\u0275cmp=T.Gb({type:e,selectors:[["app-inventory"]],viewQuery:function(e,t){if(1&e&&T.Qc(Q,!0),2&e){let e;T.xc(e=T.dc())&&(t.ingredientinforeportGrid=e.first)}},features:[T.yb([a.d,a.e]),T.wb],decls:57,vars:17,consts:[[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-1"],[1,"font-weight-bold"],[1,"col-md-2"],[3,"value","ngModel","change","ngModelChange"],["placeholder","Select a building",3,"dataSource","fields","allowFiltering","value","filtering","change"],["modelNameDropdownlist",""],[1,"btn","btn-sm","btn-default",3,"click"],[1,"fa","fa-times"],[1,"col-md-12"],["allowFiltering","true","showColumnMenu","true","allowPaging","true","gridLines","Both",3,"dataSource","allowExcelExport","allowSorting","filterSettings","toolbar","pageSettings","toolbarClick"],["ingredientinforeportGrid",""],["field","createdTime","textAlign","Center","headerText","Time","width","150"],["headerTemplate",""],["template",""],["field","supplierName","textAlign","Center","headerText","Supplier","width","100"],["field","name","textAlign","Center","headerText","Ingredient","width","100"],["field","manufacturingDate","textAlign","Center","headerText","Production date","width","130"],["field","batch","textAlign","Center","headerText","Batch","width","100"],["field","expiredTime","textAlign","Center","headerText","Expired Date","width","130"],["field","qty","textAlign","Center","headerText","Recieve Qty (Kg)","width","130"],["field","consumption","textAlign","Center","headerText","Consumption","width","100"]],template:function(e,t){1&e&&(T.Sb(0,"div",0),T.Sb(1,"div",1),T.Sb(2,"div",2),T.Sb(3,"div",3),T.Sb(4,"div",4),T.Kc(5),T.hc(6,"translate"),T.Rb(),T.Rb(),T.Sb(7,"div",5),T.Sb(8,"ejs-datepicker",6),T.cc("change",function(e){return t.startDateOnchange(e)})("ngModelChange",function(e){return t.startDate=e}),T.Rb(),T.Rb(),T.Sb(9,"div",5),T.Sb(10,"ejs-datepicker",6),T.cc("change",function(e){return t.endDateOnchange(e)})("ngModelChange",function(e){return t.endDate=e}),T.Rb(),T.Rb(),T.Sb(11,"div",5),T.Sb(12,"ejs-dropdownlist",7,8),T.cc("filtering",function(e){return t.onFilteringBuilding(e)})("change",function(e){return t.onChangeBuilding(e)}),T.Rb(),T.Rb(),T.Sb(14,"div",5),T.Sb(15,"button",9),T.cc("click",function(){return t.onClickDefault()}),T.Nb(16,"i",10),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Sb(17,"div",1),T.Sb(18,"div",2),T.Sb(19,"div",11),T.Sb(20,"ejs-grid",12,13),T.cc("toolbarClick",function(e){return t.toolbarClick(e)}),T.Sb(22,"e-columns"),T.Sb(23,"e-column",14),T.Ic(24,_,2,3,"ng-template",null,15,T.Jc),T.Ic(26,Y,2,4,"ng-template",null,16,T.Jc),T.Rb(),T.Sb(28,"e-column",17),T.Ic(29,q,2,3,"ng-template",null,15,T.Jc),T.Rb(),T.Sb(31,"e-column",18),T.Ic(32,H,2,3,"ng-template",null,15,T.Jc),T.Rb(),T.Sb(34,"e-column",19),T.Ic(35,X,2,3,"ng-template",null,15,T.Jc),T.Ic(37,W,2,4,"ng-template",null,16,T.Jc),T.Rb(),T.Sb(39,"e-column",20),T.Ic(40,V,2,3,"ng-template",null,15,T.Jc),T.Rb(),T.Sb(42,"e-column",21),T.Ic(43,Z,2,3,"ng-template",null,15,T.Jc),T.Ic(45,ee,2,4,"ng-template",null,16,T.Jc),T.Rb(),T.Sb(47,"e-column",22),T.Ic(48,te,2,3,"ng-template",null,15,T.Jc),T.Ic(50,ie,1,1,"ng-template",null,16,T.Jc),T.Rb(),T.Sb(52,"e-column",23),T.Ic(53,ne,2,3,"ng-template",null,15,T.Jc),T.Ic(55,ae,1,1,"ng-template",null,16,T.Jc),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb()),2&e&&(T.zb(5),T.Mc("",T.ic(6,15,"FILTER_LABEL"),":"),T.zb(3),T.mc("value",t.startDate)("ngModel",t.startDate),T.zb(2),T.mc("value",t.endDate)("ngModel",t.endDate),T.zb(2),T.mc("dataSource",t.buildings)("fields",t.fieldsBuildings)("allowFiltering",!0)("value",t.buildingID),T.zb(8),T.mc("dataSource",t.data)("allowExcelExport",!0)("allowSorting",!0)("filterSettings",t.filterSettings)("toolbar",t.toolbarOptions)("pageSettings",t.pageSettings))},directives:[g.a,r.g,r.j,o.c,C.j,u.d,v.d,v.b,C.e,C.b,u.c,v.c,v.a,C.d,C.a],pipes:[m.c,a.d],styles:[".search-hero[_ngcontent-%COMP%]{max-width:500px;padding-bottom:50px;margin:auto}.form-control[_ngcontent-%COMP%]{box-shadow:0 10px 40px 0 #b0c1d9}.form-control[_ngcontent-%COMP%]::-moz-placeholder{font-family:FontAwesome}.form-control[_ngcontent-%COMP%]::placeholder{font-family:FontAwesome}"]}),e})();var se=i("0WEV");const le=["cloneModal"],oe=["planForm"],ce=["grid"];function de(e,t){if(1&e&&(T.Kc(0),T.hc(1,"date")),2&e){const e=t.$implicit;T.Mc(" ","0001-01-01T00:00:00"===e.mixingDate?"N/A":T.jc(1,1,e.mixingDate,"dd/MM/yyyy")," ")}}function ue(e,t){1&e&&T.Kc(0),2&e&&T.Mc("",t.$implicit.percentage," %")}const he=JSON.parse(localStorage.getItem("level"));let ge=(()=>{class e extends E.a{constructor(e,t,i,n,a,r,s){super(),this.alertify=e,this.modalService=t,this.planService=i,this.datePipe=n,this.spinner=a,this.buildingService=r,this.route=s,this.searchSettings={hierarchyMode:"Parent"},this.fieldsBuildings={text:"name",value:"id"},this.sortSettings={columns:[{field:"percentage",direction:"Descending"}]},this.queryCellInfoEvent=e=>{e.data.percentage>0&&(e.cell.style.backgroundColor="#FFFF66")},this.onFilteringBuilding=e=>{let t=new $.h;t=""!==e.text?t.where("name","contains",e.text,!0):t,e.updateData(this.buildings,t)},this.buildingID=+localStorage.getItem("buildingID")}dataBound(){this.grid.autoFitColumns()}ngOnInit(){this.Permission(this.route),this.startDate=new Date,this.endDate=new Date,this.role=he,this.level=JSON.parse(localStorage.getItem("level")).level,this.pageSettings={pageCount:20,pageSizes:["All",100],pageSize:100},this.getBuilding(0===this.buildingID?()=>{this.alertify.message("Please select a building!",!0)}:()=>{this.consumptionByLineCase1()})}Permission(e){const t=e.snapshot.data.functionCode;this.functions=JSON.parse(localStorage.getItem("functions")).filter(e=>e.functionCode===t)||[];for(const i of this.functions){const e=[];for(const n of i.childrens){const t=this.makeAction(n.code);e.push(...t.filter(Boolean))}e.push("Search");const t=e.filter((e,t,i)=>t===i.indexOf(e));this.toolbarOptions=t}}makeAction(e){switch(e){case N.a.EXCEL_EXPORT:return["ExcelExport"];default:return[void 0]}}headerCellInfo(e){"totalConsumption"===e.cell.column.field&&new S.a({content:"Total Consumption (kg)"}).appendTo(e.node),"realConsumption"===e.cell.column.field&&new S.a({content:"Real Consumption (g) pr."}).appendTo(e.node),"mixingDate"===e.cell.column.field&&new S.a({content:"Mixing Date Of Glue"}).appendTo(e.node)}onChangeBuilding(e){this.buildingID=e.itemData.id,localStorage.setItem("buildingID",e.itemData.id),this.consumptionByLineCase1()}onSelectBuilding(e){this.buildingID=e.itemData.id,localStorage.setItem("buildingID",e.itemData.id),this.consumptionByLineCase1()}getBuilding(e){this.buildingService.getBuildings().subscribe(t=>Object(A.a)(this,void 0,void 0,function*(){this.buildings=t.filter(e=>2===e.level),e()}))}consumptionByLineCase1(){this.planService.consumptionByLineCase1(this.buildingID,this.startDate,this.endDate).subscribe(e=>{this.data=e})}startDateOnchange(e){e.isInteracted&&(this.startDate=e.value,this.consumptionByLineCase1())}endDateOnchange(e){e.isInteracted&&(this.endDate=e.value,this.consumptionByLineCase1())}onClickDefault(){this.startDate=new Date,this.endDate=new Date,this.consumptionByLineCase1()}toolbarClick(e){switch(e.item.id){case"grid_excelexport":this.reportConsumptionCase1()}}tooltip(e){return e?e.join("<br>"):""}reportConsumptionCase1(){Math.floor((this.endDate.getTime()-this.startDate.getTime())/864e5)>31?this.alertify.error("Ch\u1ec9 \u0111\u01b0\u1ee3c xu\u1ea5t d\u1eef li\u1ec7u b\xe1o c\xe1o trong 30 ng\xe0y!!!<br>The report data can only be exported for 30 days!!!",!0):(this.spinner.show(),this.planService.reportConsumptionCase1(this.buildingID,this.startDate,this.endDate).subscribe(e=>{new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});const t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t;const n=this.datePipe.transform(this.startDate,"YYYYMMdd"),a=this.datePipe.transform(this.endDate,"YYYYMMdd");i.download=`${n}-${a}_Consumption1.xlsx`,i.click(),this.spinner.hide()}))}}return e.\u0275fac=function(t){return new(t||e)(T.Mb(z.a),T.Mb(c.b),T.Mb(se.a),T.Mb(a.d),T.Mb(s.c),T.Mb(G.a),T.Mb(B.a))},e.\u0275cmp=T.Gb({type:e,selectors:[["app-consumption-1"]],viewQuery:function(e,t){if(1&e&&(T.Qc(le,!0),T.Qc(oe,!0),T.Qc(ce,!0)),2&e){let e;T.xc(e=T.dc())&&(t.cloneModal=e.first),T.xc(e=T.dc())&&(t.orderForm=e.first),T.xc(e=T.dc())&&(t.grid=e.first)}},features:[T.wb],decls:44,vars:21,consts:[["type","square-jelly-box","size","medium",3,"fullScreen"],[1,"loading"],[1,"row","pt-2"],[1,"col-md-12"],[1,"card"],[1,"card-body","p-0"],[1,"row","my-3"],[1,"row"],[1,"col-md-1"],[1,"font-weight-bold"],[1,"col-md-3"],[3,"value","ngModel","change","ngModelChange"],[1,"col-md-2"],["placeholder","Select a building",3,"dataSource","fields","allowFiltering","value","filtering","change"],["modelNameDropdownlist",""],[1,"btn","btn-sm","btn-default",3,"click"],[1,"fa","fa-times"],["id","grid","gridLines","Both",3,"dataSource","searchSettings","showColumnMenu","allowPaging","allowSorting","allowResizing","toolbar","sortSettings","pageSettings","dataBound","queryCellInfo","headerCellInfo","toolbarClick"],["grid",""],["field","modelName","headerText","Model Name","width","100","textAlign","Center"],["field","modelNo","headerText","Model No.","width","100","textAlign","Center"],["field","articleNo","headerText","Article No.","width","100","textAlign","Center"],["field","process","headerText","Process","width","100","textAlign","Center"],["field","glue","headerText","Glue","width","100","textAlign","Center"],["field","std","headerText","Std.(g)","width","100","textAlign","Center"],["field","mixingDate","headerText","Mixing Date","type","date","format","dd/MM/yyyy","width","100","textAlign","Center"],["template",""],["field","line","headerText","Line","width","100","textAlign","Center"],["field","qty","headerText","Qty","width","100","textAlign","Center"],["field","totalConsumption","headerText","\u2211 Con. (kg)","width","100","textAlign","Center"],["field","realConsumption","headerText","Real Con. (g) pr.","width","100","textAlign","Center"],["field","diff","headerText","Diff.","width","100","textAlign","Center"],["field","percentage","headerText","%","width","100","textAlign","Center"]],template:function(e,t){1&e&&(T.Sb(0,"ngx-spinner",0),T.Sb(1,"p",1),T.Kc(2,"Loading data..."),T.Rb(),T.Rb(),T.Sb(3,"div",2),T.Sb(4,"div",3),T.Sb(5,"div",4),T.Sb(6,"div",5),T.Sb(7,"div",6),T.Sb(8,"div",3),T.Sb(9,"div",7),T.Sb(10,"div",8),T.Sb(11,"div",9),T.Kc(12),T.hc(13,"translate"),T.Rb(),T.Rb(),T.Sb(14,"div",10),T.Sb(15,"ejs-datepicker",11),T.cc("change",function(e){return t.startDateOnchange(e)})("ngModelChange",function(e){return t.startDate=e}),T.Rb(),T.Rb(),T.Sb(16,"div",10),T.Sb(17,"ejs-datepicker",11),T.cc("change",function(e){return t.endDateOnchange(e)})("ngModelChange",function(e){return t.endDate=e}),T.Rb(),T.Rb(),T.Sb(18,"div",12),T.Sb(19,"ejs-dropdownlist",13,14),T.cc("filtering",function(e){return t.onFilteringBuilding(e)})("change",function(e){return t.onChangeBuilding(e)}),T.Rb(),T.Rb(),T.Sb(21,"div",12),T.Sb(22,"button",15),T.cc("click",function(){return t.onClickDefault()}),T.Nb(23,"i",16),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Sb(24,"ejs-grid",17,18),T.cc("dataBound",function(){return t.dataBound()})("queryCellInfo",function(e){return t.queryCellInfoEvent(e)})("headerCellInfo",function(e){return t.headerCellInfo(e)})("toolbarClick",function(e){return t.toolbarClick(e)}),T.Sb(26,"e-columns"),T.Nb(27,"e-column",19),T.Nb(28,"e-column",20),T.Nb(29,"e-column",21),T.Nb(30,"e-column",22),T.Nb(31,"e-column",23),T.Nb(32,"e-column",24),T.Sb(33,"e-column",25),T.Ic(34,de,2,4,"ng-template",null,26,T.Jc),T.Rb(),T.Nb(36,"e-column",27),T.Nb(37,"e-column",28),T.Nb(38,"e-column",29),T.Nb(39,"e-column",30),T.Nb(40,"e-column",31),T.Sb(41,"e-column",32),T.Ic(42,ue,1,1,"ng-template",null,26,T.Jc),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb()),2&e&&(T.mc("fullScreen",!1),T.zb(12),T.Mc("",T.ic(13,19,"FILTER_LABEL"),":"),T.zb(3),T.mc("value",t.startDate)("ngModel",t.startDate),T.zb(2),T.mc("value",t.endDate)("ngModel",t.endDate),T.zb(2),T.mc("dataSource",t.buildings)("fields",t.fieldsBuildings)("allowFiltering",!0)("value",t.buildingID),T.zb(5),T.mc("dataSource",t.data)("searchSettings",t.searchSettings)("showColumnMenu",!0)("allowPaging",!0)("allowSorting",!0)("allowResizing",!0)("toolbar",t.toolbarOptions)("sortSettings",t.sortSettings)("pageSettings",t.pageSettings))},directives:[s.a,g.a,r.g,r.j,o.c,C.j,u.d,v.d,v.b,C.e,C.b,u.c,v.c,v.a,C.d,C.a],pipes:[m.c,a.d],styles:[".bgcolor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#ff6!important}"]}),e})();const be=["cloneModal"],pe=["planForm"],me=["grid"];function fe(e,t){if(1&e&&(T.Kc(0),T.hc(1,"date")),2&e){const e=t.$implicit;T.Mc(" ","0001-01-01T00:00:00"===e.mixingDate?"N/A":T.jc(1,1,e.mixingDate,"dd/MM/yyyy")," ")}}function Se(e,t){1&e&&T.Kc(0),2&e&&T.Mc("",t.$implicit.percentage," %")}const De=JSON.parse(localStorage.getItem("level"));let Ce=(()=>{class e extends E.a{constructor(e,t,i,n,a,r,s){super(),this.alertify=e,this.modalService=t,this.planService=i,this.datePipe=n,this.spinner=a,this.buildingService=r,this.route=s,this.searchSettings={hierarchyMode:"Parent"},this.fieldsBuildings={text:"name",value:"id"},this.queryCellInfoEvent=e=>{const t=e.data,i=["modelName","modelNo","articleNo","process","qty","line"];i.includes(e.column.field)&&(e.rowSpan=this.data.filter(e=>e.id===t.id&&e.modelName===t.modelName&&e.modelNo===t.modelNo&&e.articleNo===t.articleNo&&e.process===t.process&&e.line===t.line&&e.dueDate===t.dueDate&&e.qty===t.qty).length),i.includes(e.column.field)||t.percentage>0&&(e.cell.style.backgroundColor="#FFFF66")},this.onFilteringBuilding=e=>{let t=new $.h;t=""!==e.text?t.where("name","contains",e.text,!0):t,e.updateData(this.buildings,t)},this.buildingID=+localStorage.getItem("buildingID")}dataBound(){}ngOnInit(){this.Permission(this.route),this.role=De,this.startDate=new Date,this.endDate=new Date,this.level=JSON.parse(localStorage.getItem("level")).level,this.gridConfig(),this.getBuilding(0===this.buildingID?()=>{this.alertify.message("Please select a building!",!0)}:()=>{this.consumptionByLineCase2()})}Permission(e){const t=e.snapshot.data.functionCode;this.functions=JSON.parse(localStorage.getItem("functions")).filter(e=>e.functionCode===t)||[];for(const i of this.functions){const e=[];for(const n of i.childrens){const t=this.makeAction(n.code);e.push(...t.filter(Boolean))}e.push("Search");const t=e.filter((e,t,i)=>t===i.indexOf(e));this.toolbarOptions=t}}makeAction(e){switch(e){case N.a.EXCEL_EXPORT:return["ExcelExport"];default:return[void 0]}}gridConfig(){this.pageSettings={pageCount:20,pageSizes:["All",100],pageSize:100}}onChangeBuilding(e){this.buildingID=e.itemData.id,localStorage.setItem("buildingID",e.itemData.id),this.consumptionByLineCase2()}getBuilding(e){this.buildingService.getBuildings().subscribe(t=>Object(A.a)(this,void 0,void 0,function*(){this.buildings=t.filter(e=>2===e.level),e()}))}consumptionByLineCase2(){this.planService.consumptionByLineCase2(this.buildingID,this.startDate,this.endDate).subscribe(e=>{this.data=e})}startDateOnchange(e){e.isInteracted&&(this.startDate=e.value,this.consumptionByLineCase2())}endDateOnchange(e){e.isInteracted&&(this.endDate=e.value,this.consumptionByLineCase2())}onClickDefault(){this.startDate=new Date,this.endDate=new Date,this.consumptionByLineCase2()}toolbarClick(e){switch(e.item.id){case"grid_excelexport":this.reportConsumptionCase2()}}tooltip(e){return e?e.join("<br>"):""}reportConsumptionCase2(){Math.floor((this.endDate.getTime()-this.startDate.getTime())/864e5)>31?this.alertify.error("Ch\u1ec9 \u0111\u01b0\u1ee3c xu\u1ea5t d\u1eef li\u1ec7u b\xe1o c\xe1o trong 30 ng\xe0y!!!<br>The report data can only be exported for 30 days!!!",!0):(this.spinner.show(),this.planService.reportConsumptionCase2(this.buildingID,this.startDate,this.endDate).subscribe(e=>{new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});const t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t;const n=this.datePipe.transform(this.startDate,"YYYYMMdd"),a=this.datePipe.transform(this.endDate,"YYYYMMdd");i.download=`${n}-${a}_Consumption2.xlsx`,i.click(),this.spinner.hide()}))}}return e.\u0275fac=function(t){return new(t||e)(T.Mb(z.a),T.Mb(c.b),T.Mb(se.a),T.Mb(a.d),T.Mb(s.c),T.Mb(G.a),T.Mb(B.a))},e.\u0275cmp=T.Gb({type:e,selectors:[["app-consumption-2"]],viewQuery:function(e,t){if(1&e&&(T.Qc(be,!0),T.Qc(pe,!0),T.Qc(me,!0)),2&e){let e;T.xc(e=T.dc())&&(t.cloneModal=e.first),T.xc(e=T.dc())&&(t.orderForm=e.first),T.xc(e=T.dc())&&(t.grid=e.first)}},features:[T.wb],decls:43,vars:16,consts:[["type","square-jelly-box","size","medium",3,"fullScreen"],[1,"loading"],[1,"row","pt-2"],[1,"col-md-12"],[1,"card"],[1,"card-body","p-0"],[1,"row","my-3"],[1,"row"],[1,"col-md-1"],[1,"font-weight-bold"],[1,"col-md-3"],[3,"value","ngModel","change","ngModelChange"],[1,"col-md-2"],["placeholder","Select a building",3,"dataSource","fields","allowFiltering","value","filtering","change"],["modelNameDropdownlist",""],[1,"btn","btn-sm","btn-default",3,"click"],[1,"fa","fa-times"],["id","grid","showColumnMenu","true","allowPaging","true","allowResizing","true","gridLines","Both",3,"dataSource","searchSettings","toolbar","pageSettings","dataBound","queryCellInfo","toolbarClick"],["grid",""],["field","line","headerText","Line","width","80","textAlign","Center"],["field","modelName","headerText","ModelName","width","120","textAlign","Center"],["field","modelNo","headerText","ModelNo","width","100","textAlign","Center"],["field","articleNo","headerText","ArticleNo","width","100","textAlign","Center"],["field","process","headerText","Process","width","100","textAlign","Center"],["field","qty","headerText","Qty","width","100","textAlign","Center"],["field","glue","headerText","Glue","width","150","textAlign","Center"],["field","std","headerText","Std.(g)","width","100","textAlign","Center"],["field","mixingDate","headerText","Mixing Date","type","date","format","dd/MM/yyyy","width","100","textAlign","Center"],["template",""],["field","realConsumption","headerText","Real Consumption (g) pr.","width","100","textAlign","Center"],["field","diff","headerText","Diff","width","100","textAlign","Center"],["field","percentage","headerText","%","width","100","textAlign","Center"]],template:function(e,t){1&e&&(T.Sb(0,"ngx-spinner",0),T.Sb(1,"p",1),T.Kc(2,"Loading data..."),T.Rb(),T.Rb(),T.Sb(3,"div",2),T.Sb(4,"div",3),T.Sb(5,"div",4),T.Sb(6,"div",5),T.Sb(7,"div",6),T.Sb(8,"div",3),T.Sb(9,"div",7),T.Sb(10,"div",8),T.Sb(11,"div",9),T.Kc(12),T.hc(13,"translate"),T.Rb(),T.Rb(),T.Sb(14,"div",10),T.Sb(15,"ejs-datepicker",11),T.cc("change",function(e){return t.startDateOnchange(e)})("ngModelChange",function(e){return t.startDate=e}),T.Rb(),T.Rb(),T.Sb(16,"div",10),T.Sb(17,"ejs-datepicker",11),T.cc("change",function(e){return t.endDateOnchange(e)})("ngModelChange",function(e){return t.endDate=e}),T.Rb(),T.Rb(),T.Sb(18,"div",12),T.Sb(19,"ejs-dropdownlist",13,14),T.cc("filtering",function(e){return t.onFilteringBuilding(e)})("change",function(e){return t.onChangeBuilding(e)}),T.Rb(),T.Rb(),T.Sb(21,"div",12),T.Sb(22,"button",15),T.cc("click",function(){return t.onClickDefault()}),T.Nb(23,"i",16),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Sb(24,"ejs-grid",17,18),T.cc("dataBound",function(){return t.dataBound()})("queryCellInfo",function(e){return t.queryCellInfoEvent(e)})("toolbarClick",function(e){return t.toolbarClick(e)}),T.Sb(26,"e-columns"),T.Nb(27,"e-column",19),T.Nb(28,"e-column",20),T.Nb(29,"e-column",21),T.Nb(30,"e-column",22),T.Nb(31,"e-column",23),T.Nb(32,"e-column",24),T.Nb(33,"e-column",25),T.Nb(34,"e-column",26),T.Sb(35,"e-column",27),T.Ic(36,fe,2,4,"ng-template",null,28,T.Jc),T.Rb(),T.Nb(38,"e-column",29),T.Nb(39,"e-column",30),T.Sb(40,"e-column",31),T.Ic(41,Se,1,1,"ng-template",null,28,T.Jc),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb()),2&e&&(T.mc("fullScreen",!1),T.zb(12),T.Mc("",T.ic(13,14,"FILTER_LABEL"),":"),T.zb(3),T.mc("value",t.startDate)("ngModel",t.startDate),T.zb(2),T.mc("value",t.endDate)("ngModel",t.endDate),T.zb(2),T.mc("dataSource",t.buildings)("fields",t.fieldsBuildings)("allowFiltering",!0)("value",t.buildingID),T.zb(5),T.mc("dataSource",t.data)("searchSettings",t.searchSettings)("toolbar",t.toolbarOptions)("pageSettings",t.pageSettings))},directives:[s.a,g.a,r.g,r.j,o.c,C.j,u.d,v.d,v.b,C.e,C.b,u.c,v.c,v.a,C.d,C.a],pipes:[m.c,a.d],styles:[".bgcolor[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#ff6!important}"]}),e})();var ye=i("t0UR");const we=["cloneModal"],ve=["planForm"],xe=["grid"];function Ie(e,t){if(1&e){const e=T.Tb();T.Sb(0,"div",18),T.Sb(1,"div",3),T.Sb(2,"div",19),T.Sb(3,"div",20),T.Sb(4,"div",21),T.Sb(5,"div",22),T.Kc(6),T.hc(7,"translate"),T.Rb(),T.Rb(),T.Sb(8,"div",23),T.Sb(9,"ejs-datepicker",24),T.cc("change",function(t){return T.Bc(e),T.gc().startDateOnchange(t)})("ngModelChange",function(t){return T.Bc(e),T.gc().startDate=t}),T.Rb(),T.Rb(),T.Sb(10,"div",23),T.Sb(11,"ejs-datepicker",24),T.cc("change",function(t){return T.Bc(e),T.gc().endDateOnchange(t)})("ngModelChange",function(t){return T.Bc(e),T.gc().endDate=t}),T.Rb(),T.Rb(),T.Sb(12,"div",25),T.Sb(13,"ejs-dropdownlist",26,27),T.cc("filtering",function(t){return T.Bc(e),T.gc().onFilteringBuilding(t)})("change",function(t){return T.Bc(e),T.gc().onChangeBuilding(t)}),T.Rb(),T.Rb(),T.Sb(15,"div",25),T.Sb(16,"button",28),T.cc("click",function(){return T.Bc(e),T.gc().onClickDefault()}),T.Nb(17,"i",29),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb()}if(2&e){const e=T.gc();T.zb(6),T.Mc("",T.ic(7,9,"FILTER_LABEL"),":"),T.zb(3),T.mc("value",e.startDate)("ngModel",e.startDate),T.zb(2),T.mc("value",e.endDate)("ngModel",e.endDate),T.zb(2),T.mc("dataSource",e.buildings)("fields",e.fieldsBuildings)("allowFiltering",!0)("value",e.buildingID)}}function Re(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"LINE_LABEL")," ")}function Be(e,t){1&e&&T.Kc(0),2&e&&T.Mc(" ",t.$implicit.buildingName," ")}function Me(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"BPFC_NAME_LABEL")," ")}function Ae(e,t){1&e&&T.Kc(0),2&e&&T.Mc(" ",t.$implicit.bpfcName," ")}function Ee(e,t){if(1&e&&(T.Sb(0,"ejs-tooltip",30),T.Kc(1),T.Rb()),2&e){const e=t.$implicit,i=T.gc();T.mc("content",i.tooltip(e.glues)),T.zb(1),T.Mc(" ",e.bpfcName||"#N/A"," ")}}function Ne(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"OUTPUT_QUANTITY")," ")}function Te(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"DUE_DATE_LABEL")," ")}function Oe(e,t){1&e&&(T.Kc(0),T.hc(1,"date")),2&e&&T.Mc(" ",T.jc(1,1,t.$implicit.dueDate,"dd MMM, yyyy")," ")}function Ue(e,t){1&e&&(T.Kc(0),T.hc(1,"translate")),2&e&&T.Mc(" ",T.ic(1,1,"CREATED_DATE_LABEL")," ")}function ke(e,t){1&e&&(T.Kc(0),T.hc(1,"date")),2&e&&T.Mc(" ",T.jc(1,1,t.$implicit.createdDate,"dd MMM, yyyy HH:mm")," ")}function Pe(e,t){if(1&e){const e=T.Tb();T.Sb(0,"div",31),T.Sb(1,"h4",32),T.Nb(2,"i",33),T.Kc(3," Clone Work Plan "),T.Rb(),T.Sb(4,"button",34),T.cc("click",function(){return t.$implicit.dismiss("Cross click")}),T.Sb(5,"span",35),T.Kc(6,"\xd7"),T.Rb(),T.Rb(),T.Rb(),T.Sb(7,"div",36),T.Sb(8,"div",20),T.Sb(9,"div",3),T.Sb(10,"div",37),T.Sb(11,"label",38),T.Kc(12,"DueDate"),T.Rb(),T.Sb(13,"span",39),T.Kc(14,"(*)"),T.Rb(),T.Sb(15,"ejs-datepicker",40),T.cc("change",function(t){return T.Bc(e),T.gc().onChangeDueDateClone(t)}),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Sb(16,"div",41),T.Sb(17,"button",42),T.cc("click",function(){return t.$implicit.close("Close click")}),T.Kc(18,"Close"),T.Rb(),T.Sb(19,"button",43),T.cc("click",function(){return T.Bc(e),T.gc().onClickClone()}),T.Kc(20,"Clone"),T.Rb(),T.Rb()}if(2&e){const e=T.gc();T.zb(15),T.mc("value",e.date)}}const Le=[{path:"",data:{title:"Report",breadcrumb:"Report"},children:[{path:"consumption",component:(()=>{class e extends E.a{constructor(e,t,i,n,a,r,s,l){super(),this.alertify=e,this.modalService=t,this.planService=i,this.bPFCEstablishService=n,this.datePipe=a,this.buildingService=r,this.spinner=s,this.route=l,this.startDate=new Date,this.endDate=new Date,this.sortSettings={columns:[{field:"dueDate",direction:"Ascending"}]},this.date=new Date,this.role=JSON.parse(localStorage.getItem("level")),this.building=JSON.parse(localStorage.getItem("building")),this.searchSettings={hierarchyMode:"Parent"},this.modalPlan={id:0,buildingID:0,BPFCEstablishID:0,BPFCName:"",hourlyOutput:0,workingHour:0,dueDate:new Date,startWorkingTime:new Date,finishWorkingTime:new Date,startTime:{hour:7,minute:0},endTime:{hour:16,minute:30}},this.textLine="Select a line name",this.fieldsGlue={text:"name",value:"name"},this.fieldsLine={text:"name",value:"name"},this.fieldsBPFC={text:"name",value:"name"},this.fieldsBuildings={text:"name",value:"id"},this.buildingID=0,this.onFilteringBuilding=e=>{let t=new $.h;t=""!==e.text?t.where("name","contains",e.text,!0):t,e.updateData(this.buildings,t)},this.buildingID=+localStorage.getItem("buildingID")}ngOnInit(){this.Permission(this.route),new Date,this.endDate=new Date,this.level=JSON.parse(localStorage.getItem("level")).level,this.pageSettings={pageCount:20,pageSizes:!0,pageSize:10},this.editparams={params:{popupHeight:"300px"}},this.editSettings={showDeleteConfirmDialog:!1,allowEditing:!1,allowAdding:!1,allowDeleting:!1,mode:"Normal"},this.getAll(this.startDate,this.endDate),this.getAllBPFC();const e=JSON.parse(localStorage.getItem("level")).id;this.getAllLine(e),this.getBuilding(),this.ClearForm()}Permission(e){const t=e.snapshot.data.functionCode;this.functions=JSON.parse(localStorage.getItem("functions")).filter(e=>e.functionCode===t)||[];for(const i of this.functions){const e=[];for(const n of i.childrens){const t=this.makeAction(n.code);e.push(...t.filter(Boolean))}e.push("Search");const t=e.filter((e,t,i)=>t===i.indexOf(e));this.toolbarOptions=t}}makeAction(e){switch(e){case N.a.EXCEL_EXPORT:return[{text:"Report",tooltipText:"Report",prefixIcon:"e-excelexport",id:"report"},{text:"Report(new)",tooltipText:"Report(new)",prefixIcon:"e-excelexport",id:"newReport"}];default:return[void 0]}}onChangeBuilding(e){this.buildingID=e.itemData.id,localStorage.setItem("buildingID",e.itemData.id),this.getAll(this.startDate,this.endDate)}getBuilding(){this.buildingService.getBuildings().subscribe(e=>Object(A.a)(this,void 0,void 0,function*(){this.buildings=e.filter(e=>2===e.level)}))}count(e){return Number(e)+1}getAllLine(e){this.planService.getLines(e).subscribe(e=>{this.buildingName=e})}getReport(e){Math.floor((e.endDate.getTime()-e.startDate.getTime())/864e5)>31?this.alertify.error("Ch\u1ec9 \u0111\u01b0\u1ee3c xu\u1ea5t d\u1eef li\u1ec7u b\xe1o c\xe1o trong 30 ng\xe0y!!!<br>The report data can only be exported for 30 days!!!",!0):(this.spinner.show(),this.planService.getReport(e).subscribe(e=>{new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});const t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,new Date;const n=this.datePipe.transform(this.startDate,"YYYYMMdd"),a=this.datePipe.transform(this.endDate,"YYYYMMdd");i.download=`${n}-${a}_Cost.xlsx`,i.click(),this.spinner.hide()}))}getReportByBuilding(){const e={startDate:this.startDate,endDate:this.endDate,buildingID:this.buildingID};Math.floor((e.endDate.getTime()-e.startDate.getTime())/864e5)>31?this.alertify.error("Ch\u1ec9 \u0111\u01b0\u1ee3c xu\u1ea5t d\u1eef li\u1ec7u b\xe1o c\xe1o trong 30 ng\xe0y!!!<br>The report data can only be exported for 30 days!!!",!0):(this.spinner.show(),this.planService.getReportByBuilding(e).subscribe(e=>{new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});const t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,new Date;const n=this.datePipe.transform(this.startDate,"YYYYMMdd"),a=this.datePipe.transform(this.endDate,"YYYYMMdd");i.download=`${n}-${a}_Cost.xlsx`,i.click(),this.spinner.hide()}))}downLoadFile(e,t){const i=new Blob([e],{type:t}),n=window.URL.createObjectURL(i),a=window.open(n);a&&!a.closed&&void 0!==a.closed||this.alertify.error("Please disable your Pop-up blocker and try again."),this.spinner.hide()}onChangeBuildingNameEdit(e){this.buildingNameEdit=e.itemData.id}onChangeDueDateEdit(e){this.dueDate=e.value.toDateString()}onChangeDueDateClone(e){this.date=e.value}onChangeBPFCEdit(e){this.bpfcEdit=e.itemData.id}actionComplete(e){"beginEdit"===e.requestType&&e.form.elements.namedItem(this.setFocus.field).focus()}onDoubleClick(e){this.setFocus=e.column}actionBegin(e){"cancel"===e.requestType&&this.ClearForm(),"save"===e.requestType&&"edit"===e.action&&this.planService.editQuantity(e.data.id||0,e.data.quantity).subscribe(e=>{this.alertify.success("Updated succeeded!"),this.ClearForm(),this.getAll(this.startDate,this.endDate)})}ClearForm(){this.bpfcEdit=0,this.hourlyOutput=0,this.workHour=0,this.dueDate=new Date}validForm(){return[this.bpfcEdit].every(e=>e>0)}onChangeWorkingHour(e){this.workHour=e}onChangeHourlyOutput(e){this.hourlyOutput=e}rowSelected(e){}openaddModalPlan(e){this.modalReference=this.modalService.open(e)}getAllBPFC(){this.bPFCEstablishService.filterByApprovedStatus().subscribe(e=>{this.BPFCs=e.map(e=>({id:e.id,name:`${e.modelName} - ${e.modelNo} - ${e.articleNo} - ${e.artProcess}`}))})}getAll(e,t){this.planService.search(this.buildingID,e.toDateString(),t.toDateString()).subscribe(e=>{this.data=e.map(e=>({id:e.id,bpfcName:`${e.modelName} - ${e.modelNoName} - ${e.articleName} - ${e.processName}`,dueDate:e.dueDate,createdDate:e.createdDate,workingHour:e.workingHour,hourlyOutput:e.hourlyOutput,buildingName:e.buildingName,buildingID:e.buildingID,quantity:e.quantity,bpfcEstablishID:e.bpfcEstablishID,glues:e.glues||[]}))})}deleteRange(e){this.alertify.confirm("Delete Plan","Are you sure you want to delete this Plans ?",()=>{this.planService.deleteRange(e).subscribe(()=>{this.getAll(this.startDate,this.endDate),this.alertify.success("Plans has been deleted")},e=>{this.alertify.error("Failed to delete the Modal Name")})})}openModal(e){const t=this.grid.getSelectedRecords();0!==t.length?(this.plansSelected=t.map(e=>({id:0,bpfcEstablishID:e.bpfcEstablishID,workingHour:e.workingHour,hourlyOutput:e.hourlyOutput,dueDate:e.dueDate,buildingID:e.buildingID})),this.modalReference=this.modalService.open(e)):this.alertify.warning("Please select the plan")}toolbarClick(e){switch(e.item.id){case"grid_excelexport":this.getReport({startDate:this.startDate,endDate:this.endDate});break;case"Clone":this.openModal(this.cloneModal);break;case"Delete Range":if(0===this.grid.getSelectedRecords().length)this.alertify.warning("Please select the plans!!");else{const e=this.grid.getSelectedRecords().map(e=>e.id);this.deleteRange(e)}break;case"report":this.getReportByBuilding();break;case"newReport":this.getNewReportByBuilding()}}getNewReportByBuilding(){const e={startDate:this.startDate,endDate:this.endDate,buildingID:this.buildingID};Math.floor((e.endDate.getTime()-e.startDate.getTime())/864e5)>31?this.alertify.error("Ch\u1ec9 \u0111\u01b0\u1ee3c xu\u1ea5t d\u1eef li\u1ec7u b\xe1o c\xe1o trong 30 ng\xe0y!!!<br>The report data can only be exported for 30 days!!!",!0):(this.spinner.show(),this.planService.getNewReportByBuilding(e).subscribe(e=>{new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});const t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t;const n=this.datePipe.transform(this.startDate,"YYYYMMdd"),a=this.datePipe.transform(this.endDate,"YYYYMMdd");i.download=`${n}-${a}_Cost(new).xlsx`,i.click(),this.spinner.hide()}))}onClickClone(){this.plansSelected.map(e=>{e.dueDate=this.date}),this.planService.clonePlan(this.plansSelected).subscribe(e=>{e?(this.alertify.success("Successfully!"),this.startDate=this.date,this.endDate=this.date,this.getAll(this.date,this.date),this.modalService.dismissAll()):(this.alertify.warning("the plans have already existed!"),this.modalService.dismissAll())})}search(e,t){this.planService.search(this.building.id,e.toDateString(),t.toDateString()).subscribe(e=>{this.data=e.map(e=>({id:e.id,bpfcName:`${e.modelName} - ${e.modelNoName} - ${e.articleName} - ${e.processName}`,dueDate:e.dueDate,createdDate:e.createdDate,workingHour:e.workingHour,hourlyOutput:e.hourlyOutput,buildingName:e.buildingName,buildingID:e.buildingID,bpfcEstablishID:e.bpfcEstablishID,quantity:e.quantity,glues:e.glues||[]}))})}onClickDefault(){this.startDate=new Date,this.endDate=new Date,this.getAll(this.startDate,this.endDate)}startDateOnchange(e){this.startDate=e.value,this.getAll(this.startDate,this.endDate)}endDateOnchange(e){this.endDate=e.value,this.getAll(this.startDate,this.endDate)}tooltip(e){return e?e.join("<br>"):""}editQuantity(e,t){this.planService.editQuantity(e,t)}onClickFilter(){this.getAll(this.startDate,this.endDate)}}return e.\u0275fac=function(t){return new(t||e)(T.Mb(z.a),T.Mb(c.b),T.Mb(se.a),T.Mb(ye.a),T.Mb(a.d),T.Mb(G.a),T.Mb(s.c),T.Mb(B.a))},e.\u0275cmp=T.Gb({type:e,selectors:[["app-consumption"]],viewQuery:function(e,t){if(1&e&&(T.Qc(we,!0),T.Qc(ve,!0),T.Qc(xe,!0)),2&e){let e;T.xc(e=T.dc())&&(t.cloneModal=e.first),T.xc(e=T.dc())&&(t.orderForm=e.first),T.xc(e=T.dc())&&(t.grid=e.first)}},features:[T.wb],decls:38,vars:9,consts:[["type","square-jelly-box","size","medium",3,"fullScreen"],[1,"loading"],[1,"row","pt-2"],[1,"col-md-12"],[1,"card"],[1,"card-body","table-responsive","p-0"],["class","row my-3",4,"ngIf"],["id","grid","showColumnMenu","true","allowPaging","true","allowSorting","true","allowResizing","true","gridLines","Both",3,"dataSource","searchSettings","allowExcelExport","sortSettings","toolbar","pageSettings","editSettings","actionBegin","actionComplete","recordDoubleClick","rowSelected","toolbarClick"],["grid",""],["field","buildingName","headerText","Line","width","100","textAlign","Center"],["headerTemplate",""],["editTemplate",""],["field","bpfcName","headerText","BPFC Name","width","290","textAlign","Center"],["template",""],["field","quantity","headerText","Quantity","width","170","textAlign","Center"],["field","dueDate","type","date","format","dd MMM, yyyy","headerText","Due Date","width","160","textAlign","Center"],["field","createdDate","isPrimaryKey","true","type","date","format","dd MMM, yyyy HH:mm","headerText","Created Date","width","200","textAlign","Center"],["cloneModal",""],[1,"row","my-3"],[1,"col-md-8"],[1,"row"],[1,"col-md-1"],[1,"font-weight-bold"],[1,"col-md-3"],[3,"value","ngModel","change","ngModelChange"],[1,"col-md-2"],["placeholder","Select a building",3,"dataSource","fields","allowFiltering","value","filtering","change"],["modelNameDropdownlist",""],[1,"btn","btn-sm","btn-default",3,"click"],[1,"fa","fa-times"],[3,"content"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-plus"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group"],["for","Name"],[2,"color","red"],["format","dd MMM, yyyy",3,"value","change"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(T.Sb(0,"ngx-spinner",0),T.Sb(1,"p",1),T.Kc(2,"Loading data..."),T.Rb(),T.Rb(),T.Sb(3,"div",2),T.Sb(4,"div",3),T.Sb(5,"div",4),T.Sb(6,"div",5),T.Ic(7,Ie,18,11,"div",6),T.Sb(8,"ejs-grid",7,8),T.cc("actionBegin",function(e){return t.actionBegin(e)})("actionComplete",function(e){return t.actionComplete(e)})("recordDoubleClick",function(e){return t.onDoubleClick(e)})("rowSelected",function(e){return t.rowSelected(e)})("toolbarClick",function(e){return t.toolbarClick(e)}),T.Sb(10,"e-columns"),T.Sb(11,"e-column",9),T.Ic(12,Re,2,3,"ng-template",null,10,T.Jc),T.Ic(14,Be,1,1,"ng-template",null,11,T.Jc),T.Rb(),T.Sb(16,"e-column",12),T.Ic(17,Me,2,3,"ng-template",null,10,T.Jc),T.Ic(19,Ae,1,1,"ng-template",null,11,T.Jc),T.Ic(21,Ee,2,2,"ng-template",null,13,T.Jc),T.Rb(),T.Sb(23,"e-column",14),T.Ic(24,Ne,2,3,"ng-template",null,10,T.Jc),T.Rb(),T.Sb(26,"e-column",15),T.Ic(27,Te,2,3,"ng-template",null,10,T.Jc),T.Ic(29,Oe,2,4,"ng-template",null,11,T.Jc),T.Rb(),T.Sb(31,"e-column",16),T.Ic(32,Ue,2,3,"ng-template",null,10,T.Jc),T.Ic(34,ke,2,4,"ng-template",null,11,T.Jc),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Rb(),T.Ic(36,Pe,21,1,"ng-template",null,17,T.Jc)),2&e&&(T.mc("fullScreen",!1),T.zb(7),T.mc("ngIf",!t.hasWorker),T.zb(1),T.mc("dataSource",t.data)("searchSettings",t.searchSettings)("allowExcelExport",!0)("sortSettings",t.sortSettings)("toolbar",t.toolbarOptions)("pageSettings",t.pageSettings)("editSettings",t.editSettings))},directives:[s.a,a.m,C.j,u.d,v.d,v.b,C.e,C.b,u.c,v.c,v.a,C.d,C.a,g.a,r.g,r.j,o.c,S.b],pipes:[m.c,a.d],styles:[""]}),e})(),data:{title:"Cost",breadcrumb:"Cost",functionCode:"Cost"},canActivate:[M.a]},{path:"consumption-1",component:ge,data:{title:"Consumption 1",breadcrumb:"Consumption 1",functionCode:"Consumption 1"},canActivate:[M.a]},{path:"consumption-2",component:Ce,data:{title:"Consumption 2",breadcrumb:"Consumption 2",functionCode:"Consumption 2"},canActivate:[M.a]},{path:"delivered-history",component:F,data:{title:"Delivered History",breadcrumb:"Delivered History",functionCode:"Delivered History"},canActivate:[M.a]},{path:"inventory",component:re,data:{title:"Inventory",breadcrumb:"Inventory",functionCode:"Inventory"},canActivate:[M.a]}]}];let Fe,$e=(()=>{class e{}return e.\u0275mod=T.Kb({type:e}),e.\u0275inj=T.Jb({factory:function(t){return new(t||e)},imports:[[B.g.forChild(Le)],B.g]}),e})();function je(e){return new f.a(e,"./assets/i18n/",".json")}const Je=localStorage.getItem("lang");Object(y.bb)(i("2PVe"),i("GFvd"),i("GFWS"),i("0zpJ"),i("LRxf")),Object(y.bb)(i("2PVe"),i("oP7I"),i("Joj5"),i("3JeS"),i("LRxf")),Fe="vi"===Je?Je:"en";let Ge=(()=>{class e{constructor(){"vi"===Je?(Fe="vi",setTimeout(()=>{y.p.load(i("+7Wi")),Object(y.nb)("vi")})):(Fe="en",setTimeout(()=>{y.p.load(i("oyrQ")),Object(y.nb)("en")}))}}return e.\u0275mod=T.Kb({type:e}),e.\u0275inj=T.Jb({factory:function(t){return new(t||e)},providers:[a.d],imports:[[R.b,h.c,a.b,r.c,r.m,s.b,$e,l.a,o.d,c.c,u.b,u.a,u.e,d.a,d.c,d.b,h.j,b.a,g.b,v.h,C.i,h.h,S.c,I.b,D.a,g.d,x.a,w.d,h.f,o.f,n.a,m.b.forChild({loader:{provide:m.a,useFactory:je,deps:[p.b]},defaultLanguage:Fe})]]}),e})()},dQqK:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i("iStF");class a{constructor(){this.editSettingsTree={allowEditing:!1,allowAdding:!1,allowDeleting:!1,newRowPosition:"Child",mode:"Row"},this.editSettings={showDeleteConfirmDialog:!1,allowEditing:!1,allowAdding:!1,allowDeleting:!1,mode:"Normal"},this.toolbarOptions=["ExcelExport","Add","Edit","Delete","Cancel","Search"],this.toolbarOptionsTree=["Add","Delete","Search","ExpandAll","CollapseAll","ExcelExport"],this.contextMenuItems=[{text:"Add Child",iconCss:" e-icons e-add",target:".e-content",id:"Add-Sub-Item"},{text:"Delete",iconCss:" e-icons e-delete",target:".e-content",id:"DeleteOC"}]}Permission(e){const t=e.snapshot.data.functionCode;this.functions=JSON.parse(localStorage.getItem("functions")).filter(e=>e.functionCode===t)||[];for(const i of this.functions){const e=[];for(const n of i.childrens){const t=this.makeAction(n.code);e.push(...t.filter(Boolean))}e.push("Search");const t=e.filter((e,t,i)=>t===i.indexOf(e));this.toolbarOptions=t}}PermissionForTreeGrid(e){this.contextMenuItems=[],this.functions=JSON.parse(localStorage.getItem("functions"));for(const t of this.functions)if(e.snapshot.data.functionCode.includes(t.functionCode)){const e=[];for(const n of t.childrens){const t=this.makeActionTreeGrid(n.code);e.push(...t.filter(Boolean))}e.push("Search","ExpandAll","CollapseAll","ExcelExport");const i=e.filter((e,t,i)=>t===i.indexOf(e));this.toolbarOptionsTree=i;break}}makeAction(e){switch(e){case n.a.CREATE:return this.editSettings.allowAdding=!0,["Add","Cancel"];case n.a.EDIT:return this.editSettings.allowEditing=!0,["Edit","Update","Cancel"];case n.a.DELETE:return this.editSettings.allowDeleting=!0,["Delete"];case n.a.EXCEL_EXPORT:return["ExcelExport"];default:return[void 0]}}makeActionTreeGrid(e){switch(e){case n.a.EXCEL_EXPORT:return["ExcelExport"];case n.a.CREATE:return this.editSettingsTree.allowAdding=!0,this.contextMenuItems.push({text:"Add Child",iconCss:" e-icons e-add",target:".e-content",id:"Add-Sub-Item"}),["Add"];case n.a.EDIT:return this.editSettingsTree.allowEditing=!0,[void 0];case n.a.DELETE:return this.editSettingsTree.allowDeleting=!0,this.contextMenuItems.push({text:"Delete",iconCss:" e-icons e-delete",target:".e-content",id:"DeleteOC"}),[void 0];default:return[void 0]}}}},"h9f+":function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i("2Vo4"),a=i("lJxs"),r=i("tk/3"),s=i("AytR"),l=i("2zK7"),o=i("fXoL");new r.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});let c=(()=>{class e{constructor(e){this.http=e,this.baseUrl=s.a.apiUrlEC,this.authUrl=s.a.apiUrl,this.messageSource=new n.a(0),this.currentMessage=this.messageSource.asObservable()}changeMessage(e){this.messageSource.next(e)}getBuildingsAsTreeView(){return this.http.get(this.baseUrl+"Building/GetAllAsTreeView")}mappingUserWithBuilding(e){return this.http.post(this.baseUrl+"BuildingUser/MappingUserWithBuilding",e)}removeBuildingUser(e){return this.http.post(this.baseUrl+"BuildingUser/RemoveBuildingUser",e)}getAllUsers(e,t){const i=new l.a;return this.http.get(`${this.authUrl}Users/GetAllUsers/${s.a.systemCode}/${e}/${t}`,{observe:"response"}).pipe(Object(a.a)(e=>(i.result=e.body,null!=e.headers.get("Pagination")&&(i.pagination=JSON.parse(e.headers.get("Pagination"))),i)))}deleteUser(e){return this.http.delete(`${this.authUrl}Users/Delete/${e}`)}updateUser(e){return this.http.post(this.authUrl+"Users/Update",e)}createUser(e){return this.http.post(this.authUrl+"Users/Create",e)}getAllBuildingUsers(){return this.http.get(this.baseUrl+"BuildingUser/getAllBuildingUsers")}getBuildingUserByBuildingID(e){return this.http.get(`${this.baseUrl}BuildingUser/GetBuildingUserByBuildingID/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(r.b))},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},vrRs:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i("tk/3"),a=i("2Vo4"),r=i("lJxs"),s=i("AytR"),l=i("2zK7"),o=i("fXoL");new n.e({"Content-Type":"application/json"});let c=(()=>{class e{constructor(e){this.http=e,this.baseUrl=s.a.apiUrlEC,this.ingredientSource=new a.a(0),this.currentIngredient=this.ingredientSource.asObservable()}getIngredients(e,t){const i=new l.a;let a=new n.f;return null!=e&&null!=t&&(a=a.append("pageNumber",e),a=a.append("pageSize",t)),this.http.get(this.baseUrl+"ingredient/getingredients",{observe:"response",params:a}).pipe(Object(r.a)(e=>(i.result=e.body,null!=e.headers.get("Pagination")&&(i.pagination=JSON.parse(e.headers.get("Pagination"))),i)))}search(e,t,i){const a=new l.a;let s=new n.f;return null!=e&&null!=t&&(s=s.append("pageNumber",e),s=s.append("pageSize",t)),this.http.get(this.baseUrl+"ingredient/Search/"+i,{observe:"response",params:s}).pipe(Object(r.a)(e=>(a.result=e.body,null!=e.headers.get("Pagination")&&(a.pagination=JSON.parse(e.headers.get("Pagination"))),a)))}getAllIngredient(){return this.http.get(this.baseUrl+"ingredient/GetAll",{})}rate(){return this.http.get(this.baseUrl+"ingredient/Rate",{})}getAllGlueType(){return this.http.get(this.baseUrl+"ingredient/GetAllGlueType",{})}getByID(e){return this.http.get(this.baseUrl+"ingredient/GetbyID/"+e,{})}scanQRCode(e){return this.http.get(this.baseUrl+"ingredient/ScanQRCode/"+e,{})}scanQRCodeFromChemicalWareHouse(e,t,i){return this.http.post(`${this.baseUrl}ingredient/ScanQRCodeFromChemialWareHouse/${e}/${t}/${i}`,{})}scanQRCodeFromChemicalWareHouseV1(e){return this.http.post(this.baseUrl+"ingredient/ScanQRCodeFromChemialWareHouseV1/",e)}scanQRCodeOutputV1(e){return this.http.post(this.baseUrl+"ingredient/ScanQRCodeOutputV1/",e)}scanQRCodeOutput(e,t,i){return this.http.get(`${this.baseUrl}ingredient/ScanQRCodeOutput/${e}/${t}/${i}`,{})}getAllSupplier(){return this.http.get(this.baseUrl+"Suppier/GetAll",{})}getAllIngredientInfo(){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfo",{})}getAllIngredientInfoOutput(){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoOutPut",{})}getAllIngredientInfoByBuildingName(e){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoByBuildingName/"+e,{})}getAllIngredientInfoReport(){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoReport",{})}getAllIngredientInfoReportByBuildingName(e){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoReportByBuildingName/"+e,{})}searchInventory(e,t){return this.http.get(`${this.baseUrl}ingredient/Search/${e}/${t}`,{})}searchInventoryByBuildingName(e,t,i){return this.http.get(`${this.baseUrl}ingredient/SearchWithBuildingName/${e}/${t}/${i}`,{})}deleteIngredientInfo(e,t,i,n){return this.http.delete(this.baseUrl+`ingredient/DeleteIngredientInfo/${e}/${t}/${i}/${n}`)}UpdateConsumption(e,t,i){return this.http.post(this.baseUrl+`ingredient/UpdateConsumptionIngredientReport/${e}/${t}/${i}`,{})}UpdateConsumptionOfBuilding(e){return this.http.post(this.baseUrl+"ingredient/UpdateConsumptionOfBuildingIngredientReport",e)}createSub(e){return this.http.post(this.baseUrl+"suppier/create",e)}updateSub(e){return this.http.put(this.baseUrl+"suppier/update",e)}deleteSub(e){return this.http.delete(this.baseUrl+"suppier/delete/"+e)}sortBySup(e,t){return this.http.get(this.baseUrl+`GlueIngredient/GetIngredientsByGlueID/${e}/${t}`)}getIngredientsByGlueID(e){return this.http.get(this.baseUrl+"GlueIngredient/GetIngredientsByGlueID/"+e)}create(e){return this.http.post(this.baseUrl+"ingredient/create1",e)}update(e){return this.http.put(this.baseUrl+"ingredient/update",e)}delete(e){return this.http.delete(this.baseUrl+"ingredient/delete/"+e)}changeIngredient(e){this.ingredientSource.next(e)}import(e,t){const i=new FormData;return i.append("UploadedFile",e),i.append("CreatedBy",t),this.http.post(this.baseUrl+"ingredient/Import",i)}downloadFile(){return this.http.post(this.baseUrl+"ingredient/ExcelExport",{})}GetQrcodeByid(e){return this.http.get(this.baseUrl+"ingredient/GetbyID/"+e)}UpdatePrint(e){return this.http.put(this.baseUrl+"ingredient/UpdatePrint",e)}checkIncoming(e,t,i){return this.http.get(`${this.baseUrl}ingredient/CheckIncoming/${e}/${t}/${i}`,{})}getAllIngredientInfoByBuilding(e){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoByBuilding/"+e,{})}getAllIngredientInfoOutputByBuilding(e){return this.http.get(this.baseUrl+"ingredient/GetAllIngredientInfoOutputByBuilding/"+e,{})}}return e.\u0275fac=function(t){return new(t||e)(o.Zb(n.b))},e.\u0275prov=o.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},wsp1:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i("2Vo4"),a=i("tk/3"),r=i("AytR"),s=i("fXoL");new a.e({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")});let l=(()=>{class e{constructor(e){this.http=e,this.baseUrl=r.a.apiUrlEC,this.messageSource=new n.a(0),this.currentMessage=this.messageSource.asObservable()}changeMessage(e){this.messageSource.next(e)}delete(e){return this.http.delete(`${this.baseUrl}Building/Delete/${e}`)}rename(e){return this.http.put(this.baseUrl+"Building/Update",e)}getBuildingsAsTreeView(){return this.http.get(this.baseUrl+"Building/GetAllAsTreeView")}getBuildings(){return this.http.get(this.baseUrl+"Building/GetBuildings")}getAllBuildingType(){return this.http.get(this.baseUrl+"Building/getAllBuildingType")}getBuildingsForSetting(){return this.http.get(this.baseUrl+"Building/GetBuildingsForSetting")}addOrUpdateLunchTime(e){return this.http.post(this.baseUrl+"Building/AddOrUpdateLunchTime",e)}createMainBuilding(e){return this.http.post(this.baseUrl+"Building/CreateMainBuilding",e)}createSubBuilding(e){return this.http.post(this.baseUrl+"Building/CreateSubBuilding",e)}}return e.\u0275fac=function(t){return new(t||e)(s.Zb(a.b))},e.\u0275prov=s.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);